{% extends 'base.html' %}
{% load static %}

{% block title %}LifeSpaceInfra - Home{% endblock %}

{% block content %}
<main>
    <!--? Hero Start -->
    <div class="slider-area2">
        <div class="slider-height2 hero-overly d-flex align-items-center">
            <div class="container">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="hero-cap hero-cap2 text-center pt-80">
                            <h2>Our Projects</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div> 
    </div>
    <!-- Hero End -->

    <!--? About Interior Design -->
    <!--? About Interior Design -->


    <!-- About End -->
    <section class="section-spacing">
        <div class="services-area section-padding3">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="cl-xl-7 col-lg-8 col-md-10">
                        <div class="section-tittle text-center mb-70">
                            
                            <h2>Explore Our Projects</h2>
                        </div> 
                    </div>
                </div>
            </div>
        </div>
   
    </section>
    <!--? Gallery Area Start -->
<!--? Gallery Area Start -->
<!--? Gallery Area Start -->
<div class="gallery-area pt-30 pb-40">
    <div class="container-fluid p-0 fix">
        <div class="row">
            {% for i in gallery_images %}
                <div class="col-xl-{{ i.cols }} col-lg-4 col-md-6 {% if forloop.counter > 3 %}extra-gallery{% endif %}" style="{% if forloop.counter > 3 %}display: none;{% endif %}">
                    <div class="single-gallery mb-30">
                        <div class="gallery-img" style="background-image: url('{% static i.image %}');"></div>
                        <div class="thumb-content-box">
                          
                            <div class="thumb-content">
                                {% if forloop.counter == 1 %}
                                    <h3><span>Myscape Sanctuary</span>Kondapur</h3>
                                {% elif forloop.counter == 2 %}
                                    <h3><span>GHR Titania</span>Kondapur</h3>
                                {% elif forloop.counter == 3 %}
                                    <h3><span>Indis Vivacity</span>Kondapur</h3>
                                {% elif forloop.counter == 4 %}
                                    <h3><span>ASBL Lake Side </span>Kajaguda</h3>
                                {% elif forloop.counter == 5 %}
                                    <h3><span>Asin Sun City</span>Gachibowli</h3>                               
                                {% else %}
                                    <h3><span>LifeSpaceInfra</span> Interior Designs</h3>
                                {% endif %}
                                <a href="#" class="gallery-popup" data-image="{% static i.image %}">
                                    <i class="fas fa-angle-right"></i>
                                </a>
                            </div>
                            <!-- END OF REPLACEMENT SECTION -->
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="lode-more-btn text-center pt-60 pb-100">
                    <a href="#" class="btn">Load More</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Gallery Popup Modal -->
<div class="gallery-modal">
    <div class="gallery-modal-content">
        <span class="close-gallery">&times;</span>
        <img id="gallery-popup-image" src="" alt="Gallery Image">
    </div>
</div>

<style>
    /* Gallery Popup Styles */
    .gallery-modal {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        overflow: auto;
    }

    .gallery-modal-content {
        position: relative;
        margin: auto;
        padding: 20px;
        width: 90%;
        max-width: 1200px;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
    }

    #gallery-popup-image {
        max-height: 90vh;
        max-width: 100%;
        object-fit: contain;
    }

    .close-gallery {
        position: absolute;
        top: 20px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
        cursor: pointer;
    }

    .close-gallery:hover,
    .close-gallery:focus {
        color: #bbb;
        text-decoration: none;
    }

    @media (max-width: 768px) {
        .gallery-modal-content {
            width: 95%;
            padding: 10px;
        }
        
        .close-gallery {
            top: 10px;
            right: 20px;
            font-size: 30px;
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Get all gallery popup links
        const galleryLinks = document.querySelectorAll('.gallery-popup');
        const galleryModal = document.querySelector('.gallery-modal');
        const popupImage = document.getElementById('gallery-popup-image');
        const closeBtn = document.querySelector('.close-gallery');

        // Add click event to each gallery link
        galleryLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const imageUrl = this.getAttribute('data-image');
                popupImage.src = imageUrl;
                galleryModal.style.display = 'flex';
                document.body.style.overflow = 'hidden'; // Prevent scrolling
            });
        });

        // Close modal when X is clicked
        closeBtn.addEventListener('click', function() {
            galleryModal.style.display = 'none';
            document.body.style.overflow = 'auto'; // Re-enable scrolling
        });

        // Close modal when clicking outside the image
        galleryModal.addEventListener('click', function(e) {
            if (e.target === galleryModal) {
                galleryModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });

        // Close modal with ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && galleryModal.style.display === 'flex') {
                galleryModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
    });
</script>
<!-- Gallery Area End -->
    
    <!--? Gallery Area Start -->
    <!-- <div class="gallery-area pt-30 pb-40">
        <div class="container-fluid p-0 fix">
            <div class="row">
                {% for i in gallery_images %}
                    <div class="col-xl-{{ i.cols }} col-lg-4 col-md-6 {% if forloop.counter > 6 %}extra-gallery{% endif %}" style="{% if forloop.counter > 6 %}display: none;{% endif %}">
                        <div class="single-gallery mb-30">
                            <div class="gallery-img" style="background-image: url('{% static i.image %}');"></div>
                            <div class="thumb-content-box">
                                <div class="thumb-content">
                                    <h3><span>LifeSpaceInfra</span> Interior Designs</h3>
                                    <a href="{% url 'work' %}"><i class="fas fa-angle-right"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="lode-more-btn text-center pt-60 pb-100">
                        <a href="#" class="btn">Load More</a>
                    </div>
                </div>
            </div>
        </div>
    </div>     -->
    <!-- Gallery Area End -->
</main>


<script>
    document.addEventListener('DOMContentLoaded', function() {
        const loadMoreBtn = document.querySelector('.lode-more-btn .btn');
        const hiddenItems = document.querySelectorAll('.extra-gallery');

        loadMoreBtn.addEventListener('click', function(e) {
            e.preventDefault();
            hiddenItems.forEach(item => {
                item.style.display = 'block';
                setTimeout(() => item.classList.add('show'), 10);
            });
            loadMoreBtn.parentElement.style.display = 'none';
        });
    });
</script>
{% endblock %}
